---

## Предисловие
В данном предписании будет описано приложение и информация о его возможностях

---

## Инструкция по использованию приложения

### краткое описние
для того чтобы использовать приложения надо его запустить и перейти по ссылке [swagger-ui](http://localhost:8080/swagger-ui/index.html)
передав в сплывающее окно пользователя из базы данных с ролью ADMIN
---
### контроллеры которые показывает swagger
[Car-controller](#car-controller)<br/>
[Credit-card-controller](#credit-card-controller)<br/>
[Driver-licence-controller](#driver-licence-controller)<br/>
[Fine-controller](#fine-controller)<br/>
[Image-controller](#image-controller)<br/>
[Rent-history-controller](#rent-history-controller)<br/>
[Secure-controller](#secure-controller)<br/>
[User-controller](#user-controller)
---
### car-controller
описывает всё что связано с объектом машины.
#### Пользователь с ролью USER
пользователь с ролью USER имеет доступ только к трём эндпоинтам:<br/>
/car/free - этот эндпоинт показывает пользователю все свободные машины<br/>
/car/start/{id} - этот эндпоинт бронирую ту машину id которой вы передали и создаёт соответствующую историю аренды передвая туда авторизованного пользователя, машину которую он бронируют и время начала брони, если машина уже забронирована или вы уже забронировали машину или у вашего пользователя истекло водительское удостоверение, то бронирование не произойдет <br/>
/car/end - этот эндпоинт снимает бронь с магшины, которую вы арендовали

#### пользователь с ролью ADMIN
ему доступны все эндпоинты объекта машины<br/>
/car/{id} - достаёт машину из базы по айди<br/>
/car/all - достаёт все машины из базы
/car/create - создаёт машину в базе данных собирая информацию о ней из передаваемого json файла<br/>
/car/update - обновляет информацию о машине в базе данных собирая информацию о ней из передаваемого json файла<br/>
/car/delete/{id} - удаляет машину по указанному id из базы данных и в соответствующей истории аренды записывает время окончания бронирования
---

### credit-card-controller
#### Пользователь с ролью USER
пользователь с ролью USER  имеет доступ только к двум эндпоинтам:<br/>
/credit-card/update - обновляет информацию по карте в базе данных, в том случае если она пренадлежит авторизованному пользователю, собираю информацию из передаваемого json файла<br/>
/credit-card/delete/{id} - удаляет карточку по id в том случае если она пренадлежит авторизованному пользователю<br/>

#### пользователь с ролью ADMIN
ему доступны все эндпоинты объекта кредитная карта<br/>
/credit-card/{id} - достаёт кредитную карту по айди из базы данных<br/>
/credit-card/all - достаёт все кредитные карты лежащие в базе данных<br/>
---

### driver-licence-controller
#### Пользователь с ролью USER
пользователь с ролью USER имеет доступ только к трём эндпоинтам:<br/>
/driver-licence/create - создание водительского удостоверения в базе данных собирая информацию из передаваемого json файла<br/>
/driver-licence/update - обновление информации водительского удостоверения в базе данных собирая информацию из передаваемого json файла<br/>
/driver-licence/delete - удаляет из базы данных водительское удостоверение авторизованного пользователя

#### пользователь с ролью ADMIN
ему доступны все эндпоинты объекта водительское удостоверение<br/>
/driver-licence/{id} - достаёт по id водительское удостоверение из базы данных<br/>
/driver-licence/all - достаёт все водительские удостоверения из базы данных
---

### fine-controller
#### доступен только пользователю с ролью ADMIN
/fine/{id} - достаёт штраф по id из базы данных<br/>
/fine/all - достаёт все штрафы из базы данных<br/>
/fine/create - создаёт штраф в базе данных собираю информацию из предаваемого json файла<br/>
/fine/update - обновляет информацию по штрафу собираю информацию из предаваемого json файла<br/>
/fine/delete/{id} - удаляет штраф из базы данных по id

---
### image-controller
#### доступен как пользователю USER так и пользователю ADMIN
/image/create - сохраняет в базу данных фотографию водительского удостоверения и прикрепляет её к id водительского удостоверения авторизированного пользователя<br/>

---

### rent-history-controller
#### доступен только пользователю с ролью ADMIN
/rent-history/{id} - достаёт из базы данных по id историю аренды<br/>
/rent-history/all - достаёт все истории аренды из базы данных<br/>
/rent-history/delete/{id} - удаляет историю аренды из базы данных по id<br/>
/rent-history/ update - обновляет информацию по истории аренды получая информацию из преданного json файла<br/>

---

### secure-controller
#### доступен как пользователю USER так и пользователю ADMIN
/registration/credit-card - создаёт кредитную карту в базе данных получая информацию из json файла и привязывая её к авторизованному пользователю<br/>
#### на этот эндпоинт может переходить не авторизованный пользователь
/registration/user - создаёт пользователя получая информацию из передавемого json файла

---

### user-controller
#### Пользователь с ролью USER
пользователь с ролью USER имеет доступ только к пяти эндпоинтам:<br/>
/user/update - обновляет информацию по пользователю в базе данных в том случае если id передаваемого пользователя из json файла совпадает с айди авторизованного пользователя<br/>
/user/delete - удаляет из базы данных авторизованного пользователя<br/>
/user/fines - достаёт из базы данных все штрафы, которые относятся к этому пользователю<br/>
/user/credit-cards - достаёт из базы данных все кредитрные карты, которые относятся к этому пользователю<br/> 
/user/rent-histories - достаёт все истории аренды авторизованного пользователя<br/>

#### пользователь с ролью ADMIN
ему доступны все эндпоинты объекта пользователь<br/>
/user/{id} - достаёт из базы данных пользователя по id<br/>
/user/all - достаёт всех пользователей из базы данных<br/>